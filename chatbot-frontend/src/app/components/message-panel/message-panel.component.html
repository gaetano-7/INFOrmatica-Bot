<section class="message-panel-container" #scrollframe>
  <ng-container *ngIf="messages.length; else noMessages">
    <ng-container *ngFor="let message of messages; trackBy: trackByMessageId">
      <div [ngClass]="{'message-inner-container': true, 'user-message': message.sender === 'user', 'assistant-message': message.sender === 'assistant'}">
        <div class="message-container">
          <div *ngIf="message.sender === 'assistant'" class="avatar" [ngStyle]="{'background-image': 'url(' + avatarPath + ')'}"></div>
          <div class="message">{{ message.content }}</div>
          <div *ngIf="message.sender === 'user'" class="avatar" [ngStyle]="{'background-image': 'url(' + userPath + ')'}"></div>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <ng-template #noMessages>
    <div class="no-message-container">Nessun messaggio</div>
  </ng-template>

  <div *ngIf="loading" class="loading-icon">
    <img src="../../assets/loading.svg" width="70" />
  </div>

  <audio #audio src="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"></audio>
  <audio #audioToggle src="https://assets.mixkit.co/active_storage/sfx/2925/2925-preview.mp3"></audio>
</section>
